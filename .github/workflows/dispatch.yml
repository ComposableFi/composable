name: Run Ansible Playbooks

on: 
  workflow_dispatch:
    
       

env: 
  ROOT_KEY: ${{ secrets.ROOT_KEY }}

jobs:
  run-playbooks:
    runs-on: 
        - self-hosted
        - linux
        - X64
        - ansible-runner

    steps:
    - name: Run Simnode
      uses: benc-uk/workflow-dispatch@v1
      with:
        workflow: simnode
        token: ${{ secrets.COMPOSABLE_GITHUB_TOKEN }}
        inputs: '{ "branch": "Enter the branch you want to run simnode against", "default": releases }'

    - name: Run Benchmark
      uses: benc-uk/workflow-dispatch@v1
      with:
        workflow: benchmark
        token: ${{ secrets.COMPOSABLE_GITHUB_TOKEN }}
        inputs: '{ "message": "Enter the branch you want to run simnode against", "default": releases }'


