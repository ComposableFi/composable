[package]
authors = ["Composable Developers"]
edition = "2018"
homepage = "https://composable.finance"
name = "composable"
version = "1.0.0"

[[bin]]
name = "composable"
path = "src/main.rs"

[package.metadata.docs.rs]
targets = ["x86_64-unknown-linux-gnu"]

[dependencies]
color-eyre = { version = "0.5.11", default-features = false }
composable-node = { path = "node", features = ["composable", "dali"] }

[features]
dali = []
local-integration-tests = []
picasso = []
runtime-benchmarks = ["composable-node/runtime-benchmarks"]
std = ["composable-node/std"]

[workspace]
exclude = ["utils/extrinsics-docs-scraper", "frame/transaction-fee"]
members = [
  "frame/*",
  "integration-tests/local-integration-tests",
  "node",

  "runtime/common",
  "runtime/primitives",
  "runtime/picasso",
  "runtime/dali",
  "runtime/composable",
  "utils/faucet-server",
  "utils/common",
  "utils/parachain-utils",
  "utils/price-feed",
  "utils/collator-sidecar",
  "simnode/simnode-node",
  "simnode/simnode-tests",
  "simnode/common",
]

[profile.release]
# Polkadot runtime requires unwinding.
lto = false
panic = "unwind"

[profile.production]
inherits = "release"
lto = true
